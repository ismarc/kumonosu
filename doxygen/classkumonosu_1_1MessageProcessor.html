<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>kumonosu::MessageProcessor Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacekumonosu.html">kumonosu</a>::<a class="el" href="classkumonosu_1_1MessageProcessor.html">MessageProcessor</a>
  </div>
</div>
<div class="contents">
<h1>kumonosu::MessageProcessor Class Reference</h1><!-- doxytag: class="kumonosu::MessageProcessor" -->Provides a convenience interface for managing pending items.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="MessageProcessor_8h-source.html">MessageProcessor.h</a>&gt;</code>
<p>

<p>
<a href="classkumonosu_1_1MessageProcessor-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkumonosu_1_1MessageProcessor.html#54f1d41c92e56d5177d1b920838e5ae9">MessageProcessor</a> (void *methodNotImplementedObject, void(*methodNotImplemented)(void *object, arguments argList))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the <a class="el" href="classkumonosu_1_1MessageProcessor.html" title="Provides a convenience interface for managing pending items.">MessageProcessor</a>.  <a href="#54f1d41c92e56d5177d1b920838e5ae9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkumonosu_1_1MessageProcessor.html#acf49759696cdc0879d6eca29b913841">setClient</a> (<a class="el" href="classkumonosu_1_1Client.html">Client</a> *client)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assigns the supplied client.  <a href="#acf49759696cdc0879d6eca29b913841"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkumonosu_1_1MessageProcessor.html#0e7ef911154799c0907144b2e69be2dc">setMethodCallback</a> (int32_t methodId, void *object, void(*FunctionPtr)(void *object, arguments argList))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stores a callback function associated with a method id.  <a href="#0e7ef911154799c0907144b2e69be2dc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkumonosu_1_1MessageProcessor.html#62da7baf1a4a502feac8dc035e3bf796">removeMethodCallback</a> (int32_t methodId)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes a <a class="el" href="classkumonosu_1_1Callback.html" title="Provides a simple wrapper for callback functions.">Callback</a> object from the method associations.  <a href="#62da7baf1a4a502feac8dc035e3bf796"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classkumonosu_1_1MessageProcessor.html#3452268a0f4c76b19af4a49ee1326a74">processPendingItems</a> (int32_t max_count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Processes outstanding items.  <a href="#3452268a0f4c76b19af4a49ee1326a74"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Provides a convenience interface for managing pending items. 
<p>
The message processor provides a convenience class for handling incoming queue items. A class (or classes) can be created to handle the different methods which are then provided to the message processor as callbacks. The service can then call the <a class="el" href="classkumonosu_1_1MessageProcessor.html" title="Provides a convenience interface for managing pending items.">MessageProcessor</a> to execute any outstanding items.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Matt Brace </dd></dl>

<p>Definition at line <a class="el" href="MessageProcessor_8h-source.html#l00032">32</a> of file <a class="el" href="MessageProcessor_8h-source.html">MessageProcessor.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="54f1d41c92e56d5177d1b920838e5ae9"></a><!-- doxytag: member="kumonosu::MessageProcessor::MessageProcessor" ref="54f1d41c92e56d5177d1b920838e5ae9" args="(void *methodNotImplementedObject, void(*methodNotImplemented)(void *object, arguments argList))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MessageProcessor::MessageProcessor           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>methodNotImplementedObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *object, arguments argList)&nbsp;</td>
          <td class="paramname"> <em>methodNotImplemented</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the <a class="el" href="classkumonosu_1_1MessageProcessor.html" title="Provides a convenience interface for managing pending items.">MessageProcessor</a>. 
<p>
The constructor takes an object pointer and a function pointer for the callback that is called whenever a method callback has not been set for the received method id. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>methodNotImplementedObject</em>&nbsp;</td><td>the object to supply in the callback when a request for an undefined method is received. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>methodNotImplemented</em>&nbsp;</td><td>function pointer to the method to call when an undefined method is received. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="MessageProcessor_8cpp-source.html#l00005">5</a> of file <a class="el" href="MessageProcessor_8cpp-source.html">MessageProcessor.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="acf49759696cdc0879d6eca29b913841"></a><!-- doxytag: member="kumonosu::MessageProcessor::setClient" ref="acf49759696cdc0879d6eca29b913841" args="(Client *client)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageProcessor::setClient           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classkumonosu_1_1Client.html">Client</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assigns the supplied client. 
<p>
To retreive requests, a client is necessary. It is the owning objects responsibility to initialize and supply the client. Once received, the <a class="el" href="classkumonosu_1_1MessageProcessor.html" title="Provides a convenience interface for managing pending items.">MessageProcessor</a> will have the client connect if necessary for further calls, but will never explicitly disconnect the client. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>the client object to use for message retrieval. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="MessageProcessor_8cpp-source.html#l00016">16</a> of file <a class="el" href="MessageProcessor_8cpp-source.html">MessageProcessor.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="0e7ef911154799c0907144b2e69be2dc"></a><!-- doxytag: member="kumonosu::MessageProcessor::setMethodCallback" ref="0e7ef911154799c0907144b2e69be2dc" args="(int32_t methodId, void *object, void(*FunctionPtr)(void *object, arguments argList))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageProcessor::setMethodCallback           </td>
          <td>(</td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>methodId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *object, arguments argList)&nbsp;</td>
          <td class="paramname"> <em>FunctionPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stores a callback function associated with a method id. 
<p>
Creates a <a class="el" href="classkumonosu_1_1Callback.html" title="Provides a simple wrapper for callback functions.">Callback</a> object and associates it internally with the supplied method id. The callback will be called with there is an incoming request with the specified method id. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>methodId</em>&nbsp;</td><td>the method id to associate the callback with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>the object to call with the function pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FunctionPtr</em>&nbsp;</td><td>the function pointer for the callback. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="MessageProcessor_8cpp-source.html#l00022">22</a> of file <a class="el" href="MessageProcessor_8cpp-source.html">MessageProcessor.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="62da7baf1a4a502feac8dc035e3bf796"></a><!-- doxytag: member="kumonosu::MessageProcessor::removeMethodCallback" ref="62da7baf1a4a502feac8dc035e3bf796" args="(int32_t methodId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageProcessor::removeMethodCallback           </td>
          <td>(</td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>methodId</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Removes a <a class="el" href="classkumonosu_1_1Callback.html" title="Provides a simple wrapper for callback functions.">Callback</a> object from the method associations. 
<p>
Removes the <a class="el" href="classkumonosu_1_1Callback.html" title="Provides a simple wrapper for callback functions.">Callback</a> object that is associated with the method id. If further requests are processed with that method id, the methodNotImplemented callback will be used until a new callback has been set. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>methodId</em>&nbsp;</td><td>the method id of the callback to remove. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="MessageProcessor_8cpp-source.html#l00033">33</a> of file <a class="el" href="MessageProcessor_8cpp-source.html">MessageProcessor.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="3452268a0f4c76b19af4a49ee1326a74"></a><!-- doxytag: member="kumonosu::MessageProcessor::processPendingItems" ref="3452268a0f4c76b19af4a49ee1326a74" args="(int32_t max_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageProcessor::processPendingItems           </td>
          <td>(</td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>max_count</em> = <code>-1</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Processes outstanding items. 
<p>
Retrieves up to max_count items and calls the associated callback method with the received method id for each item. The callbacks are called serially, in the order they are received based on the queue. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>max_count</em>&nbsp;</td><td>the maximum number of items to process, use -1 to indicate all items. </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="MessageProcessor_8cpp-source.html#l00060">60</a> of file <a class="el" href="MessageProcessor_8cpp-source.html">MessageProcessor.cpp</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>clientlib/<a class="el" href="MessageProcessor_8h-source.html">MessageProcessor.h</a><li>clientlib/<a class="el" href="MessageProcessor_8cpp-source.html">MessageProcessor.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Aug 14 23:01:23 2009 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
